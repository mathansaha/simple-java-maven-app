pipeline 
{
agent {
  label 'Devserver'
}
parameters {
  string defaultValue: 'gopal', name: 'Lastname'
}
environment {
    Name ="mathan"
}

tools {
  maven 'maven'
}

stages {

    stage('build')
    {
        steps
        {
            sh "mvn clean package"
            sh "echo $Name ${params.Lastname}"
        }
        post {
        success {
        // One or more steps need to be included within each condition's block.
            archiveArtifacts artifacts: '**/target/*.jar', fingerprint: true
                }
        }


    }
        stage('test ')
    {
        steps
        {
            sh 'echo test'
        }

    }
        stage('deploy')
    {
        steps
        {
            sh 'echo deploy'
        }

    }
}



}